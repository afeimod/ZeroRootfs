#!/system/bin/sh
# am broadcast --user 0 --es vnc_data "vnc::127.0.0.1::5900::admin::admin" -a com.termux.app.reload_vnc  com.xinhao.web.services
# ç›®æ ‡åœ°å€å’Œç«¯å£
HOST="127.0.0.1"
PORT="19951"
# ------------------------------------------------------------
# VNC é…ç½®æ•°æ®
VNC_DATA="vnc::192.168.31.121::5900::admin::admin"
# ä¼ å…¥å­—ç¬¦è¯´æ˜
# vnc::127.0.0.1::5900::admin::admin
# vnc::åœ°å€::ç«¯å£::è´¦å·::å¯†ç 

# æ³¨æ„ å¯†ç è´¦æˆ·ä¸ºç©ºå°±ä¼ é€’ none
# vnc::127.0.0.1::5900::none::none
# å¦‚æœå…¶ä¸€ä¸ºç©ºå°±ä¼ é€’ none,å“ªä¸ªä¸ºç©ºå°±ä¼ å“ªä¸ªï¼Œåè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·çš„
# vnc::127.0.0.1::5900::admin::none
# ------------------------------------------------------------

echo "ğŸ“¤ å‘é€ VNC é…ç½®åˆ° $HOST:$PORT"
echo "ğŸ“ æ•°æ®: $VNC_DATA"

# æ–¹æ³•1: ä½¿ç”¨ echo + nc (æœ€å¸¸ç”¨)
echo "$VNC_DATA" | nc $HOST $PORT

# æ£€æŸ¥å‘é€ç»“æœ
if [ $? -eq 0 ]; then
    echo "âœ… æ•°æ®å‘é€æˆåŠŸ"
else
    echo "âŒ æ•°æ®å‘é€å¤±è´¥"
fi
